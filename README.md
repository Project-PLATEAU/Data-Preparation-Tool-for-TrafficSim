# 交通シミュレーション支援ツール

![可視化画面](./Documentation~/resources/BasicOperation/Play.png)

## 1. 概要
本リポジトリでは、Project PLATEAUの令和6年度のユースケース開発業務の一部であるUC24-01「商業施設等の立地に関する交通シミュレータの開発」について、その成果物である「交通シミュレーション支援ツール」のソースコードを公開しています。

「交通シミュレーション支援ツール」は、3D都市モデルおよび交通関連の各種オープンデータを活用し、大規模商業施設の開発などによって生じる周辺道路への交通影響を、簡易かつ効率的に設定・予測・可視化するためのソフトウェアです。


## 2. 「交通シミュレーション支援ツール」について
「交通シミュレーション支援ツール」では、3D都市モデルを用いた道路ネットワーク生成機能、交通発生点の設定機能、OD交通量（Origin-Destination）の推定機能、開発交通量の推定機能などを備え、これらを統合してシミュレーションデータを生成するUIと、シミュレーション結果を3Dで可視化する表示機能を組み合わせて提供します。
本プロジェクトではデータの自動化とシミュレーションとの連携を推進することで、交通分野におけるデジタルツイン技術の普及と、社会的意思決定の高度化に貢献することを目指しています。
本システムの詳細については[技術検証レポート](https://www.mlit.go.jp/plateau/file/libraries/doc/plateau_tech_doc_0096_ver01.pdf)を参照してください。

## 3. 利用手順
本システムの構築手順及び利用手順については[利用チュートリアル](https://project-plateau.github.io/Data-Preparation-Tool-for-TrafficSim/)を参照してください。

## 4. システム概要

### シミュレーション用データ生成

1. **交通発生点の設定**
   - 交通集中発生点（ゾーン）を自動生成
   - 建物情報を基にした交通発生・集中量の推定

1. **OD交通量の推定**
   - 既存交通量および開発交通量の算出
   - 実測データやオープンデータを活用した交通流の補正

1. **データ出力・管理**
   - シミュレーション用データのエクスポート（GeoJSON, CSV 形式）
   - ユーザーによるカスタム設定・編集のサポート

### シミュレーション結果可視化

1. **シミュレーションの結果の可視化**
   - Avenueなどの交通シミュレータと連携し、OD交通量を基にした車両挙動や渋滞情報を3D都市モデル上で表示

## 5. 利用技術

本システムで利用しているOSS（オープンソースソフトウェア）は以下のとおりです。

| 種別        | 名称   | バージョン | 内容 |
|------------|--------|-----------|--------------------------------|
| ライブラリ  | [GeoJSON.Net](https://github.com/GeoJSON-Net/GeoJSON.Net/) | 1.4.1 | GeoJSON形式のデータを処理するためのライブラリ |
|   | [LibTessDotNet](https://github.com/speps/LibTessDotNet/) | 1.1.15 | ポリゴンの三角分割を行うためのライブラリ |
|   | [NetTopologySuite](https://github.com/NetTopologySuite/NetTopologySuite/) | 2.5.0 | 空間データの解析・処理を行うためのライブラリ |
|   | [StandaloneFileBrowser](https://github.com/gkngkc/UnityStandaloneFileBrowser/) | 1.2 | Unity環境でファイルダイアログを使用するためのライブラリ |

## 6. 動作環境 <!-- 動作環境についての仕様を記載ください。 -->

### 検証済環境

| 項目              | 最小動作環境                | 
|------------------|--------------------------| 
| CPU             | Intel クロック周波数 2GHz 以上 | 
| GPU             | NVIDIA® GeForce RTX™ 4060 Laptop GPU|  
| メモリ          | 32GB 以上                  |
| ストレージ      | 200GB 以上の空き容量        |
| OS             | Windows 11 Home 64 ビット |


## 7. 本リポジトリのフォルダ構成 <!-- 本GitHub上のソースファイルの構成を記載ください。 -->

本システムは、Unity のプラグインとして構成されています。

本リポジトリのフォルダ構成は以下の通りです。

| フォルダ名 | 詳細 |
|-|-|
| .github | CI/CD 用の設定ファイルなどを格納 |
| Documentation~ | マニュアルを格納 |
| Editor | エディター拡張に使用するアセットを格納 |
| Modules | 機能モジュールを格納 |
| Plugins | 外部プラグインを格納 |
| Resources | 実行時に動的にロードするアセットを格納 |
| Runtime | 実行時に使用するアセットを格納 |

また、以下のファイルがリポジトリ直下に配置されています。

| ファイル名 | 詳細 |
|-|-|
| .gitignore | Git で管理しないファイルの設定 |
| LICENSE | ライセンス情報 |
| package.json | Unity パッケージの定義ファイル |
| README.md | 本リポジトリの説明文書 |
| ***.meta | Unity メタファイル |

## 8. ライセンス <!-- 変更せず、そのまま使うこと。 -->

- ソースコード及び関連ドキュメントの著作権は国土交通省に帰属します。
- 本ドキュメントは[Project PLATEAUのサイトポリシー](https://www.mlit.go.jp/plateau/site-policy/)（CCBY4.0及び政府標準利用規約2.0）に従い提供されています。

## 9. 注意事項

- 本リポジトリは参考資料として提供しているものです。動作保証は行っていません。
- 本リポジトリについては予告なく変更又は削除をする可能性があります。
- 本リポジトリの利用により生じた損失及び損害等について、国土交通省はいかなる責任も負わないものとします。

## 10. 参考資料
- 技術検証レポート: https://www.mlit.go.jp/plateau/file/libraries/doc/plateau_tech_doc_0096_ver01.pdf
- PLATEAU WebサイトのUse caseページ「商業施設等の立地に関する交通シミュレータの開発」: https://www.mlit.go.jp/plateau/use-case/uc24-01/
